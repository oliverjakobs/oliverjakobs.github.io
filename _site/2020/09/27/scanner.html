<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- CSS -->
    <link rel="stylesheet" href="/assets/css/style.css" />
    
    <!-- Font Aweseome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.2/css/all.min.css"  />

    <title>{ devlog::scanner }</title>

    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" />
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Scanner</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Scanner" />
<meta name="author" content="oliver" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction and Scanner." />
<meta property="og:description" content="Introduction and Scanner." />
<link rel="canonical" href="http://localhost:4000/2020/09/27/scanner.html" />
<meta property="og:url" content="http://localhost:4000/2020/09/27/scanner.html" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-27T00:00:00+02:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"http://localhost:4000/2020/09/27/scanner.html","headline":"Scanner","datePublished":"2020-09-27T00:00:00+02:00","dateModified":"2020-09-27T00:00:00+02:00","author":{"@type":"Person","name":"oliver"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/09/27/scanner.html"},"description":"Introduction and Scanner.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <nav class="navbar">
  <label class="logo"><a href="/">devlog</a></label>
  <input type="checkbox" id="menu-check">
  <label for="menu-check" class="menu-btn"><i class="fas fa-bars"></i></label>
  <ul class="menu">
    
      <li><a href="/" >blog</a></li>
    
  </ul>
</nav>
    <div class="page-content container clearfix">
      <a href="/">&laquo; Back</a>

<h1 class="post-title">Scanner</h1>
<ul class="post-meta">
<li><i class="far fa-calendar"></i>27 Sep 2020</li>
  <li><i class="far fa-user"></i>oliver</li>
</ul>

<p class="separator"></p>

<p>Introduction and Scanner.</p>

<p>For my ecs system in my game I needed an easy way to add new components and systems, so I decided to write a small code generation tool to do that for me.
Here is what I have done.</p>

<p>First I needed to decide on a syntax for script file which decides what code to generate. After some changes I managed to plan out some syntax that fits my needs.</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="code"><pre><span class="n">define</span> <span class="n">ECS_LOADER_H</span>

<span class="n">include</span>
<span class="p">{</span>
    <span class="s">"Ecs/Ecs.h"</span><span class="p">,</span>
    <span class="s">"Components/Animator.h"</span><span class="p">,</span>
    <span class="s">"Components/Transform.h"</span><span class="p">,</span>
    <span class="s">"Components/RigidBody.h"</span><span class="p">,</span>
    <span class="s">"Components/Sprite.h"</span><span class="p">,</span>
    <span class="s">"Components/Movement.h"</span><span class="p">,</span>
    <span class="s">"Components/CameraController.h"</span><span class="p">,</span>
    <span class="s">"Components/Inventory.h"</span><span class="p">,</span>
    <span class="s">"Components/Interaction.h"</span>
<span class="p">}</span>

<span class="k">enum</span> <span class="n">ComponentType</span>
<span class="p">{</span>
    <span class="p">[</span> <span class="n">COMPONENT_TRANSFORM</span><span class="p">,</span>      <span class="k">sizeof</span><span class="p">(</span><span class="n">Transform</span><span class="p">),</span>          <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_RIGID_BODY</span><span class="p">,</span>     <span class="k">sizeof</span><span class="p">(</span><span class="n">RigidBody</span><span class="p">),</span>          <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_MOVEMENT</span><span class="p">,</span>       <span class="k">sizeof</span><span class="p">(</span><span class="n">Movement</span><span class="p">),</span>           <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_SPRITE</span><span class="p">,</span>         <span class="k">sizeof</span><span class="p">(</span><span class="n">Sprite</span><span class="p">),</span>             <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_ANIMATOR</span><span class="p">,</span>       <span class="k">sizeof</span><span class="p">(</span><span class="n">Animator</span><span class="p">),</span>           <span class="n">AnimatorFree</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_CAMERA</span><span class="p">,</span>         <span class="k">sizeof</span><span class="p">(</span><span class="n">CameraController</span><span class="p">),</span>   <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_INVENTORY</span><span class="p">,</span>      <span class="k">sizeof</span><span class="p">(</span><span class="n">Inventory</span><span class="p">),</span>          <span class="n">InventoryFree</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_INTERACTION</span><span class="p">,</span>    <span class="k">sizeof</span><span class="p">(</span><span class="n">Interaction</span><span class="p">),</span>        <span class="nb">NULL</span> <span class="p">],</span>
    <span class="p">[</span> <span class="n">COMPONENT_INTERACTOR</span><span class="p">,</span>     <span class="k">sizeof</span><span class="p">(</span><span class="n">Interactor</span><span class="p">),</span>         <span class="nb">NULL</span> <span class="p">]</span>
<span class="p">}</span>

<span class="n">generate</span> <span class="n">RegisterComponents</span><span class="p">(</span><span class="n">Ecs</span><span class="o">*</span> <span class="n">ecs</span><span class="p">)</span><span class="o">:</span> <span class="n">ComponentType</span> <span class="o">-&gt;</span> <span class="n">EcsRegisterComponent</span><span class="p">(</span><span class="n">ecs</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>The first line specifies the include guard for the generated c-file and is mandatory. After that comes the inluce block, that indicates what files does the generated file needs.</p>



<div class="comments">
  <i class="far fa-comments"></i>
  <p>
    Placeholder for a comment section.
  </p>
</div>
    </div>
    <footer class="page-footer container">
  <ul class="menu">
    
      <li><a href="/copyright.html"><i class="far fa-copyright"></i>2020 oliver jakobs</a></li>
    
      <li><a href="https://github.com/oliverjakobs"><i class="fab fa-github"></i>github</a></li>
    
      <li><a href="https://twitter.com/orwell_23"><i class="fab fa-twitter"></i>twitter</a></li>
    
  </ul>
</footer>
  </body>
</html>